<header 
  x-data="{ 
    open: false, 
    scrolled: false,
    handleScroll() {
      // Solo se aplica en pantallas grandes
      if (window.innerWidth >= 1280 && !this.open) {
        this.scrolled = window.scrollY > (window.innerHeight * 0.3);
      }
    }
  }"
  x-init="handleScroll()" 
  @scroll.window="handleScroll()"
  :class="scrolled ? 'backdrop-blur-md bg-gray-800/50 shadow-lg transition duration-300' : 'bg-transparent transition duration-300'"
  class="fixed top-0 left-0 w-full z-50"
>  
  <div class="absolute inset-0 bg-gradient-to-b from-black/30 to-transparent z-10"></div>

  <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16 relative z-20 bg-transparent backdrop-blur-sm xl:backdrop-blur-none ">
      
      <!-- Logo -->
      <a href="#inicio" class="flex items-center space-x-2">
          <img src="/assets/img/logo-header.png" alt="Logo B&Y" class="h-20 w-auto" />
      </a>

      <!-- Desktop nav -->
      <nav class="hidden lg:flex space-x-10 text-sm font-medium text-white">
          <a href="#inicio" class="relative group">
              Inicio
              <span class="block mt-1 h-[2px] w-0 bg-white transition-all duration-300 group-hover:w-full"></span>
          </a>
          <a href="#lotes" class="relative group">
              Comprar lotes
              <span class="block mt-1 h-[2px] w-0 bg-white transition-all duration-300 group-hover:w-full"></span>
          </a>
          <a href="#fincas" class="relative group">
              Alquilar finca
              <span class="block mt-1 h-[2px] w-0 bg-white transition-all duration-300 group-hover:w-full"></span>
          </a>
          <a href="#sobre-nosotros" class="relative group">
              Sobre Nosotros
              <span class="block mt-1 h-[2px] w-0 bg-white transition-all duration-300 group-hover:w-full"></span>
          </a>
          <a href="#agente-destacado" class="relative group">
              Contacto
              <span class="block mt-1 h-[2px] w-0 bg-white transition-all duration-300 group-hover:w-full"></span>
          </a>
      </nav>

      <!-- Botón de llamada -->
      <div class="hidden md:flex items-center space-x-2 text-white hover:text-black">
          <a href="tel:+573005551234" class="flex items-center space-x-2 text-white text-base font-medium px-3 py-1.5 rounded-md border border-gray-300 hover:bg-gray-300 hover:text-gray-800 transition-all duration-200">
              <i class="fas fa-phone-alt "></i>
              <span>+57 300 555 1234</span>
          </a>
      </div>

      <!-- Botón menú móvil -->
      <button 
        @click="open = !open; if (open) { document.body.style.overflow = 'hidden'; } else { document.body.style.overflow = 'auto'; }" 
        class="lg:hidden flex items-center text-white">
          <i class="fas fa-bars text-2xl"></i>
      </button>
  </div>

<!-- Menú móvil -->
<div
    x-show="open"
    @click.away="open = false; document.body.style.overflow = 'auto';"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="transform -translate-x-full opacity-0"
    x-transition:enter-end="transform translate-x-0 opacity-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="transform translate-x-0 opacity-100"
    x-transition:leave-end="transform -translate-x-full opacity-0"
    class="fixed top-0 left-0 w-64 h-full bg-gray-800 text-white z-50 p-6 space-y-6"
>
    <!-- Logo centrado -->
    <div class="flex justify-center mb-4">
        <img src="/assets/img/logo-header.png" alt="Logo B&Y" class="h-20 w-auto" />
    </div>

    <a href="#inicio" class="block hover:text-sky-400">Inicio</a>
    <a href="#lotes" class="block hover:text-sky-400">Comprar lotes</a>
    <a href="#fincas" class="block hover:text-sky-400">Alquilar finca</a>
    <a href="#sobre-nosotros" class="block hover:text-sky-400">Sobre Nosotros</a>
    <a href="#contacto" class="block hover:text-sky-400">Contacto</a>

    <!-- Botón de WhatsApp al final -->
    <a href="https://wa.me/573144425773" target="_blank"
       class="flex items-center border border-green-500 text-white bg-green-700/40 hover:bg-green-500 font-semibold px-4 py-2 rounded-lg shadow-md transition duration-300 absolute bottom-10 left-6">
        <i class="fab fa-whatsapp text-lg mr-2"></i> 
        <span class="tracking-wide">Contactar WhatsApp</span>
    </a>
</div>
</header>

<!-- FontAwesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
